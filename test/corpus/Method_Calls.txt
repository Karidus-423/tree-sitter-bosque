=============================
Simple Entity Method 1
=============================
entity Foo {
	field f: Int;
	ref method foo(): Int {
		return this.f; 
	}
}

function main(): Int {
	return this.foo(); 
}

---

(source_file
  (entity_declaration
    (custom_type)
    (object_body
      (field_statement
        (variable_expression
          (variable_signature
            (identifier)
            (primitive_type))))
      (method_statement
        (modifier)
        (function_signature
          (custom_type)
          (function_parameters)
          (function_return_parameters
            (primitive_type))
          (function_usage
            (object_body
              (return_statement
                (access_expression
                  (this)
                  (identifier)))))))))
  (function_definition
    (function_signature
      (custom_type)
      (function_parameters)
      (function_return_parameters
        (primitive_type))
      (function_usage
        (object_body
          (return_statement
            (access_expression
              (this)
              (function_call
                (custom_type)
                (function_call_parameters)))))))))

=============================
Simple Entity Method 2
=============================

entity Foo {
	field f: Int;
	ref method foo(): Int {
		return this.f; 
	}
} 

function main(): Int {
	let x = Foo{3i};
	return x.foo();
}

---

(source_file
  (entity_declaration
    (custom_type)
    (object_body
      (field_statement
        (variable_expression
          (variable_signature
            (identifier)
            (primitive_type))))
      (method_statement
        (modifier)
        (function_signature
          (custom_type)
          (function_parameters)
          (function_return_parameters
            (primitive_type))
          (function_usage
            (object_body
              (return_statement
                (access_expression
                  (this)
                  (identifier)))))))))
  (function_definition
    (function_signature
      (custom_type)
      (function_parameters)
      (function_return_parameters
        (primitive_type))
      (function_usage
        (object_body
          (variable_statement
            (variable_expression
              (variable_signature
                (identifier))
              (variable_assignment
                (object_creation
                  (custom_type)
                  (num_whole)))))
          (return_statement
            (access_expression
              (identifier)
              (function_call
                (custom_type)
                (function_call_parameters)))))))))

=============================
Simple Entity Eadt Methods
=============================

function main(): Int {
	let x = Foo{3i};
	return ref x.foo(1i);
}

----

(source_file
  (function_definition
    (function_signature
      (custom_type)
      (function_parameters)
      (function_return_parameters
        (primitive_type))
      (function_usage
        (object_body
          (variable_statement
            (variable_expression
              (variable_signature
                (identifier))
              (variable_assignment
                (object_creation
                  (custom_type)
                  (num_whole)))))
          (return_statement
            (access_expression
              (identifier
                (modifier))
              (function_call
                (custom_type)
                (function_call_parameters
                  (num_whole))))))))))

==============================
Entity Ref Method
==============================


function main(): Int {
	let x = Foo{3i};
	return ref x.foo(1i);
}

---

(source_file
  (function_definition
    (function_signature
      (custom_type)
      (function_parameters)
      (function_return_parameters
        (primitive_type))
      (function_usage
        (object_body
          (variable_statement
            (variable_expression
              (variable_signature
                (identifier))
              (variable_assignment
                (object_creation
                  (custom_type)
                  (num_whole)))))
          (return_statement
            (access_expression
              (identifier
                (modifier))
              (function_call
                (custom_type)
                (function_call_parameters
                  (num_whole))))))))))
