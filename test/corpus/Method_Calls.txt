=============================
Simple Entity Method 1
=============================
entity Foo {
	field f: Int;
	ref method foo(): Int {
		return this.f; 
	}
}

function main(): Int {
	return this.foo(); 
}

---

(source_file
  (entity
    (identifier)
    (field
      (variable_expression
        (variable_signature
          (identifier)
          (primitive_type))))
    (field
      (modifier)
      (function_signature
        (identifier)
        (function_parameters)
        (function_return_parameters
          (primitive_type))
        (function_body
          (return_statement
            (access_expression
              (this)
              (identifier)))))))
  (function_definition
    (function_signature
      (identifier)
      (function_parameters)
      (function_return_parameters
        (primitive_type))
      (function_body
        (return_statement
          (access_expression
            (this)
            (function_call
              (identifier)
              (function_call_parameters))))))))

=============================
Simple Entity Method 2
=============================

entity Foo {
	field f: Int;
	ref method foo(): Int {
		return this.f; 
	}
} 

function main(): Int {
	let x = Foo{3i};
	return x.foo();
}

---

(source_file
  (entity
    (identifier)
    (field
      (variable_expression
        (variable_signature
          (identifier)
          (primitive_type))))
    (field
      (modifier)
      (function_signature
        (identifier)
        (function_parameters)
        (function_return_parameters
          (primitive_type))
        (function_body
          (return_statement
            (access_expression
              (this)
              (identifier)))))))
  (function_definition
    (function_signature
      (identifier)
      (function_parameters)
      (function_return_parameters
        (primitive_type))
      (function_body
        (variable_statement
          (variable_expression
            (variable_signature
              (identifier))
            (variable_assignment
              (type_definition
                (identifier)
                (num_whole)))))
        (return_statement
          (access_expression
            (identifier)
            (function_call
              (identifier)
              (function_call_parameters))))))))

=============================
Simple Entity Eadt Methods
=============================

function main(): Int {
	let x = Foo{3i};
	return ref x.foo(1i);
}

----

(source_file
  (function_definition
    (function_signature
      (identifier)
      (function_parameters)
      (function_return_parameters
        (primitive_type))
      (function_body
        (variable_statement
          (variable_expression
            (variable_signature
              (identifier))
            (variable_assignment
              (type_definition
                (identifier)
                (num_whole)))))
        (return_statement
          (access_expression
            (identifier
              (modifier))
            (function_call
              (identifier)
              (function_call_parameters
                (num_whole)))))))))

==============================
Entity Ref Method
==============================


function main(): Int {
	let x = Foo{3i};
	return ref x.foo(1i);
}

---

(source_file
  (function_definition
    (function_signature
      (identifier)
      (function_parameters)
      (function_return_parameters
        (primitive_type))
      (function_body
        (variable_statement
          (variable_expression
            (variable_signature
              (identifier))
            (variable_assignment
              (type_definition
                (identifier)
                (num_whole)))))
        (return_statement
          (access_expression
            (identifier
              (modifier))
            (function_call
              (identifier)
              (function_call_parameters
                (num_whole)))))))))
