=============================
Simple Entity Method 1
=============================
entity Foo {
	field f: Int;
	ref method foo(): Int {
		return this.f; 
	}
}

function main(): Int {
	return this.foo(); 
}

---

(source_file
  (entity
    (entity_id)
    (identifier)
    (entity_id)
    (entity_id)
    (function_parameters)
    (function_return_parameters
      (entity_id))
    (function_body
      (return_statement
        (identifier)
        (identifier))))
  (function_definition
    (entity_id)
    (function_parameters)
    (function_return_parameters
      (entity_id))
    (function_body
      (return_statement
        (identifier)
        (function_call
          (identifier))))))

=============================
Simple Entity Method 2
=============================

entity Foo {
	field f: Int;
	ref method foo(): Int {
		return this.f; 
	}
} 

function main(): Int {
	let x = Foo{3i};
	return x.foo();
}

---

(source_file
  (entity
    (entity_id)
    (identifier)
    (entity_id)
    (entity_id)
    (function_parameters)
    (function_return_parameters
      (entity_id))
    (function_body
      (return_statement
        (identifier)
        (identifier))))
  (function_definition
    (entity_id)
    (function_parameters)
    (function_return_parameters
      (entity_id))
    (function_body
      (variable_statement
        (variable_expression
          (identifier)
          (entity_definition
            (entity_id)
            (num_lit))))
      (return_statement
        (identifier)
        (function_call
          (identifier))))))

=============================
Simple Entity Eadt Methods
=============================

function main(): Int {
	let x = Foo{3i};
	return ref x.foo(1i);
}

----

(source_file
  (function_definition
    (entity_id)
    (function_parameters)
    (function_return_parameters
      (entity_id))
    (function_body
      (variable_statement
        (variable_expression
          (identifier)
          (entity_definition
            (entity_id)
            (num_lit))))
      (return_statement
        (identifier)
        (identifier)
        (function_call
          (identifier)
          (num_lit))))))

==============================
Entity Ref Method
==============================


function main(): Int {
	let x = Foo{3i};
	return ref x.foo(1i);
}

---

(source_file
  (function_definition
    (entity_id)
    (function_parameters)
    (function_return_parameters
      (entity_id))
    (function_body
      (variable_statement
        (variable_expression
          (identifier)
          (entity_definition
            (entity_id)
            (num_lit))))
      (return_statement
        (identifier)
        (identifier)
        (function_call
          (identifier)
          (num_lit))))))
