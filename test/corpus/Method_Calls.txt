=============================
Simple Entity Method 1
=============================
entity Foo {
	field f: Int;
	ref method foo(): Int {
		return this.f; 
	}
}

function main(): Int {
	return this.foo(); 
}

---

(source_file
  (entity
    (entity_id)
    (identifier)
    (entity_id)
    (object_id
      (entity_id))
    (function_parameters)
    (function_return_parameters
      (entity_id))
    (function_body
      (return_statement
        (entity_access
          (this))
        (identifier))))
  (function_definition
    (object_id
      (entity_id))
    (function_parameters)
    (function_return_parameters
      (entity_id))
    (function_body
      (return_statement
        (entity_access
          (this))
        (function_call
          (identifier))))))

=============================
Simple Entity Method 2
=============================

entity Foo {
	field f: Int;
	ref method foo(): Int {
		return this.f; 
	}
} 

function main(): Int {
	let x = Foo{3i};
	return x.foo();
}

---

(source_file
  (entity
    (entity_id)
    (identifier)
    (entity_id)
    (object_id
      (entity_id))
    (function_parameters)
    (function_return_parameters
      (entity_id))
    (function_body
      (return_statement
        (entity_access
          (this))
        (identifier))))
  (function_definition
    (object_id
      (entity_id))
    (function_parameters)
    (function_return_parameters
      (entity_id))
    (function_body
      (variable_statement
        (variable_expression
          (identifier)
          (entity_definition
            (entity_id)
            (num_whole))))
      (return_statement
        (entity_access
          (identifier))
        (function_call
          (identifier))))))

=============================
Simple Entity Eadt Methods
=============================

function main(): Int {
	let x = Foo{3i};
	return ref x.foo(1i);
}

----

(source_file
  (function_definition
    (function_modifier)
    (function_signature
      (identifier)
      (function_parameters)
      (function_return_parameters
        (primitive_type))
      (function_body
        (variable_statement
          (variable_expression
            (variable_definition
              (identifier))
            (type_definition
              (identifier)
              (num_whole))))
        (return_statement
          (access_expression
            (identifier
              (modifier))
            (function_call
              (identifier)
              (num_whole))))))))

==============================
Entity Ref Method
==============================


function main(): Int {
	let x = Foo{3i};
	return ref x.foo(1i);
}

---

(source_file
  (function_definition
    (function_modifier)
    (function_signature
      (identifier)
      (function_parameters)
      (function_return_parameters
        (primitive_type))
      (function_body
        (variable_statement
          (variable_expression
            (variable_definition
              (identifier))
            (type_definition
              (identifier)
              (num_whole))))
        (return_statement
          (access_expression
            (identifier
              (modifier))
            (function_call
              (identifier)
              (num_whole))))))))
